!function(e){var t=window.webpackHotUpdate;window.webpackHotUpdate=function(e,s){!function(e,t){if(!b[e]||!v[e])return;for(var s in v[e]=!1,t)Object.prototype.hasOwnProperty.call(t,s)&&(p[s]=t[s]);0==--y&&0===g&&C()}(e,s),t&&t(e,s)};var s,n=!0,r="d13c62a7e349f5b80db5",i=1e4,a={},o=[],d=[];function h(e){var t=O[e];if(!t)return N;var n=function(n){return t.hot.active?(O[n]?-1===O[n].parents.indexOf(e)&&O[n].parents.push(e):(o=[e],s=n),-1===t.children.indexOf(n)&&t.children.push(n)):(console.warn("[HMR] unexpected require("+n+") from disposed module "+e),o=[]),N(n)},r=function(e){return{configurable:!0,enumerable:!0,get:function(){return N[e]},set:function(t){N[e]=t}}};for(var i in N)Object.prototype.hasOwnProperty.call(N,i)&&"e"!==i&&"t"!==i&&Object.defineProperty(n,i,r(i));return n.e=function(e){return"ready"===c&&m("prepare"),g++,N.e(e).then(t,function(e){throw t(),e});function t(){g--,"prepare"===c&&(f[e]||A(e),0===g&&0===y&&C())}},n.t=function(e,t){return 1&t&&(e=n(e)),N.t(e,-2&t)},n}var l=[],c="idle";function m(e){c=e;for(var t=0;t<l.length;t++)l[t].call(null,e)}var u,p,w,y=0,g=0,f={},v={},b={};function k(e){return+e+""===e?+e:e}function S(e){if("idle"!==c)throw new Error("check() is only allowed in idle status");return n=e,m("check"),(t=i,t=t||1e4,new Promise(function(e,s){if("undefined"==typeof XMLHttpRequest)return s(new Error("No browser support"));try{var n=new XMLHttpRequest,i=N.p+""+r+".hot-update.json";n.open("GET",i,!0),n.timeout=t,n.send(null)}catch(e){return s(e)}n.onreadystatechange=function(){if(4===n.readyState)if(0===n.status)s(new Error("Manifest request to "+i+" timed out."));else if(404===n.status)e();else if(200!==n.status&&304!==n.status)s(new Error("Manifest request to "+i+" failed."));else{try{var t=JSON.parse(n.responseText)}catch(e){return void s(e)}e(t)}}})).then(function(e){if(!e)return m("idle"),null;v={},f={},b=e.c,w=e.h,m("prepare");var t=new Promise(function(e,t){u={resolve:e,reject:t}});p={};return A(0),"prepare"===c&&0===g&&0===y&&C(),t});var t}function A(e){b[e]?(v[e]=!0,y++,function(e){var t=document.getElementsByTagName("head")[0],s=document.createElement("script");s.charset="utf-8",s.src=N.p+""+e+"."+r+".hot-update.js",t.appendChild(s)}(e)):f[e]=!0}function C(){m("ready");var e=u;if(u=null,e)if(n)Promise.resolve().then(function(){return M(n)}).then(function(t){e.resolve(t)},function(t){e.reject(t)});else{var t=[];for(var s in p)Object.prototype.hasOwnProperty.call(p,s)&&t.push(k(s));e.resolve(t)}}function M(t){if("ready"!==c)throw new Error("apply() is only allowed in ready status");var s,n,i,d,h;function l(e){for(var t=[e],s={},n=t.slice().map(function(e){return{chain:[e],id:e}});n.length>0;){var r=n.pop(),i=r.id,a=r.chain;if((d=O[i])&&!d.hot._selfAccepted){if(d.hot._selfDeclined)return{type:"self-declined",chain:a,moduleId:i};if(d.hot._main)return{type:"unaccepted",chain:a,moduleId:i};for(var o=0;o<d.parents.length;o++){var h=d.parents[o],l=O[h];if(l){if(l.hot._declinedDependencies[i])return{type:"declined",chain:a.concat([h]),moduleId:i,parentId:h};-1===t.indexOf(h)&&(l.hot._acceptedDependencies[i]?(s[h]||(s[h]=[]),u(s[h],[i])):(delete s[h],t.push(h),n.push({chain:a.concat([h]),id:h})))}}}}return{type:"accepted",moduleId:e,outdatedModules:t,outdatedDependencies:s}}function u(e,t){for(var s=0;s<t.length;s++){var n=t[s];-1===e.indexOf(n)&&e.push(n)}}t=t||{};var y={},g=[],f={},v=function(){console.warn("[HMR] unexpected require("+A.moduleId+") to disposed module")};for(var S in p)if(Object.prototype.hasOwnProperty.call(p,S)){var A;h=k(S);var C=!1,M=!1,$=!1,I="";switch((A=p[S]?l(h):{type:"disposed",moduleId:S}).chain&&(I="\nUpdate propagation: "+A.chain.join(" -> ")),A.type){case"self-declined":t.onDeclined&&t.onDeclined(A),t.ignoreDeclined||(C=new Error("Aborted because of self decline: "+A.moduleId+I));break;case"declined":t.onDeclined&&t.onDeclined(A),t.ignoreDeclined||(C=new Error("Aborted because of declined dependency: "+A.moduleId+" in "+A.parentId+I));break;case"unaccepted":t.onUnaccepted&&t.onUnaccepted(A),t.ignoreUnaccepted||(C=new Error("Aborted because "+h+" is not accepted"+I));break;case"accepted":t.onAccepted&&t.onAccepted(A),M=!0;break;case"disposed":t.onDisposed&&t.onDisposed(A),$=!0;break;default:throw new Error("Unexception type "+A.type)}if(C)return m("abort"),Promise.reject(C);if(M)for(h in f[h]=p[h],u(g,A.outdatedModules),A.outdatedDependencies)Object.prototype.hasOwnProperty.call(A.outdatedDependencies,h)&&(y[h]||(y[h]=[]),u(y[h],A.outdatedDependencies[h]));$&&(u(g,[A.moduleId]),f[h]=v)}var W,H=[];for(n=0;n<g.length;n++)h=g[n],O[h]&&O[h].hot._selfAccepted&&H.push({module:h,errorHandler:O[h].hot._selfAccepted});m("dispose"),Object.keys(b).forEach(function(e){!1===b[e]&&function(e){delete installedChunks[e]}(e)});for(var _,E,T=g.slice();T.length>0;)if(h=T.pop(),d=O[h]){var x={},G=d.hot._disposeHandlers;for(i=0;i<G.length;i++)(s=G[i])(x);for(a[h]=x,d.hot.active=!1,delete O[h],delete y[h],i=0;i<d.children.length;i++){var D=O[d.children[i]];D&&((W=D.parents.indexOf(h))>=0&&D.parents.splice(W,1))}}for(h in y)if(Object.prototype.hasOwnProperty.call(y,h)&&(d=O[h]))for(E=y[h],i=0;i<E.length;i++)_=E[i],(W=d.children.indexOf(_))>=0&&d.children.splice(W,1);for(h in m("apply"),r=w,f)Object.prototype.hasOwnProperty.call(f,h)&&(e[h]=f[h]);var P=null;for(h in y)if(Object.prototype.hasOwnProperty.call(y,h)&&(d=O[h])){E=y[h];var B=[];for(n=0;n<E.length;n++)if(_=E[n],s=d.hot._acceptedDependencies[_]){if(-1!==B.indexOf(s))continue;B.push(s)}for(n=0;n<B.length;n++){s=B[n];try{s(E)}catch(e){t.onErrored&&t.onErrored({type:"accept-errored",moduleId:h,dependencyId:E[n],error:e}),t.ignoreErrored||P||(P=e)}}}for(n=0;n<H.length;n++){var L=H[n];h=L.module,o=[h];try{N(h)}catch(e){if("function"==typeof L.errorHandler)try{L.errorHandler(e)}catch(s){t.onErrored&&t.onErrored({type:"self-accept-error-handler-errored",moduleId:h,error:s,originalError:e}),t.ignoreErrored||P||(P=s),P||(P=e)}else t.onErrored&&t.onErrored({type:"self-accept-errored",moduleId:h,error:e}),t.ignoreErrored||P||(P=e)}}return P?(m("fail"),Promise.reject(P)):(m("idle"),new Promise(function(e){e(g)}))}var O={};function N(t){if(O[t])return O[t].exports;var n=O[t]={i:t,l:!1,exports:{},hot:function(e){var t={_acceptedDependencies:{},_declinedDependencies:{},_selfAccepted:!1,_selfDeclined:!1,_disposeHandlers:[],_main:s!==e,active:!0,accept:function(e,s){if(void 0===e)t._selfAccepted=!0;else if("function"==typeof e)t._selfAccepted=e;else if("object"==typeof e)for(var n=0;n<e.length;n++)t._acceptedDependencies[e[n]]=s||function(){};else t._acceptedDependencies[e]=s||function(){}},decline:function(e){if(void 0===e)t._selfDeclined=!0;else if("object"==typeof e)for(var s=0;s<e.length;s++)t._declinedDependencies[e[s]]=!0;else t._declinedDependencies[e]=!0},dispose:function(e){t._disposeHandlers.push(e)},addDisposeHandler:function(e){t._disposeHandlers.push(e)},removeDisposeHandler:function(e){var s=t._disposeHandlers.indexOf(e);s>=0&&t._disposeHandlers.splice(s,1)},check:S,apply:M,status:function(e){if(!e)return c;l.push(e)},addStatusHandler:function(e){l.push(e)},removeStatusHandler:function(e){var t=l.indexOf(e);t>=0&&l.splice(t,1)},data:a[e]};return s=void 0,t}(t),parents:(d=o,o=[],d),children:[]};return e[t].call(n.exports,n,n.exports,h(t)),n.l=!0,n.exports}N.m=e,N.c=O,N.d=function(e,t,s){N.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:s})},N.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},N.t=function(e,t){if(1&t&&(e=N(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var s=Object.create(null);if(N.r(s),Object.defineProperty(s,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var n in e)N.d(s,n,function(t){return e[t]}.bind(null,n));return s},N.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return N.d(t,"a",t),t},N.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},N.p="",N.h=function(){return r},h(0)(N.s=0)}({"./game/app.js":function(e,t,s){"use strict";function n(e,t){let s=e+Math.random()*(t+1-e);return s=Math.floor(s)}s.r(t);class r{constructor(){this.init()}defineCanvas(){this.canvasWidth=.95*$(window).width(),this.canvasHeight=.5*$(window).height()}definePlayer(){this.playerCharacter=$("input[name=userChoice]:checked","form").val(),this.playerSprite=new Image,this.playerSprite.src="img/"+this.playerCharacter+"SpriteIdle.png",this.playerSprite.addEventListener("load",()=>{this.playerSpriteWidth=this.playerSprite.width,this.playerSpriteHeight=this.playerSprite.height,this.playerSpriteCoordinateX=0,this.playerSpriteCoordinateY=0,this.numberOfColumnsInPlayerSprite=10,this.numberOfRowsInPlayerSprite=1,this.playerWidth=Math.floor(this.playerSpriteWidth/this.numberOfColumnsInPlayerSprite),this.playerHeight=Math.floor(this.playerSpriteHeight/this.numberOfRowsInPlayerSprite),this.playerCoordinateX=this.playerWidth/2,this.playerCoordinateY=this.canvasHeight-this.playerHeight})}defineMonster(){class e{constructor(e,t,s,r,i){this.part=e,this.maxNumberOfParts=t,this.offset=s,this.numberOfParts=n(1,t),this.src="img/monster parts/"+this.part+".png",this.xCoordinate=r,this.yCoordinate=i}}let t=new e("Body",1,"horizontal",200,200),s=new e("Foot",4,"horizontal",200,50),r=new e("RightHand",2,"horizontal",100,80),i=new e("LeftHand1",3,"vertical",300,190);this.arrayOfMonsterParts=[t,s,r,i],this.arrayOfMonsterParts.forEach(e=>{e.drawCoordinateX=Math.floor(this.canvasWidth-e.xCoordinate),e.drawCoordinateY=Math.floor(this.canvasHeight-e.yCoordinate)})}defineMonsterNamesArray(){this.monsterNamesArray=[["Ogre","Dwarf","Dragon","Zombie","Bastard","Bugger","Wizard","Giant","Elf","Oni","Demon","Undead","Pony","Vampire","Werewolf","Succubus","Humanoid","Halfling","Golem","Gnoll","Fairy","Manticore","Frankenstein","Ex-wife"],["Hideous","Wicked","Dangerous","Evil","Fearsome","Greedy","Awful","Dreadful","Voracious","Horrible","Terrific","Moody","Sly","Cunning","Mighty","Silly","Dumpy","Crazy","Stupid","Dense"],["John","Will","Donald","Bill","Arnold","Tom","Garry","Ron","Voldemort","Jerry","Anthony","Eduard","Eric","Jeck","Leo","Brad","Li","Ryan","Alex","Dan","Logan","Henry","Pitter","Sam"]]}defineMonsterName(){this.monsterName=this.monsterNamesArray.reduce((e,t)=>`${e} ${t[n(1,t.length-1)]}`,"")}defineSpell(e){this.spellImage=new Image,this.spellCoordinateY=this.playerCoordinateY+this.playerHeight/2,this.arrayOfSpellImages=["img/spells/blades.png","img/spells/acidcircus.png","img/spells/ball-lightning.png","img/spells/electron.png"];let t=n(0,this.arrayOfSpellImages.length-1);this.spellImage.src=this.arrayOfSpellImages[t],this.spellImage.addEventListener("load",()=>{this.spellWidth=this.spellImage.width,this.spellHeight=this.spellImage.height,"monster"===e?(this.spellCoordinateX=this.playerCoordinateX+this.playerWidth/2,this.spellBorderCoordinateX=this.canvasWidth-430-this.spellWidth,this.spellAnimationDirection=10):(this.spellCoordinateX=this.canvasWidth-450-this.spellWidth,this.spellBorderCoordinateX=this.playerCoordinateX+this.playerWidth/2,this.spellAnimationDirection=-10)})}init(){this.defineCanvas(),this.definePlayer(),this.defineMonster(),this.defineMonsterNamesArray()}}function i(e,t,s,n){let r="sounds/"+e+".mp3";if(t)$("#homeAudio").attr("src",r),$("#homeAudio").attr("loop",s),document.getElementById("homeAudio").play();else{let e=new Audio;e.src=r,e.loop=s,e.play(),n&&(e.setAttribute("id","homeAudio"),$("body").append(e))}}function a(){document.getElementById("homeAudio").play.call(document.getElementById("homeAudio"))}s("./game/components/Characters/img/monster parts/Body.png"),s("./game/components/Characters/img/monster parts/Foot.png"),s("./game/components/Characters/img/monster parts/LeftHand1.png"),s("./game/components/Characters/img/monster parts/RightHand.png"),s("./game/components/Characters/img/BoySpriteIdle.png"),s("./game/components/Characters/img/GirlSpriteIdle.png"),s("./game/components/Characters/img/spells/blades.png"),s("./game/components/Characters/img/spells/acidcircus.png"),s("./game/components/Characters/img/spells/ball-lightning.png"),s("./game/components/Characters/img/spells/electron.png");class o{constructor(e){this.viewModel=e,this.canvas=document.getElementById("canvas"),this.ctx=canvas.getContext("2d"),this.tickCount=0}drawCanvas(){this.ctx?(this.canvas.width=this.viewModel.canvasWidth,this.canvas.height=this.viewModel.canvasHeight):alert("Your browser doesn't support canvas")}drawPlayer(){this.ctx.clearRect(this.viewModel.playerCoordinateX,this.viewModel.playerCoordinateY,this.viewModel.playerWidth,this.viewModel.playerHeight),this.viewModel.playerSpriteCoordinateX=this.viewModel.playerSpriteCoordinateX===this.viewModel.playerSpriteWidth-this.viewModel.playerWidth?0:this.viewModel.playerSpriteCoordinateX+this.viewModel.playerWidth,this.ctx.drawImage(this.viewModel.playerSprite,this.viewModel.playerSpriteCoordinateX,this.viewModel.playerSpriteCoordinateY,this.viewModel.playerWidth,this.viewModel.playerHeight,this.viewModel.playerCoordinateX,this.viewModel.playerCoordinateY,this.viewModel.playerWidth,this.viewModel.playerHeight)}animatePlayer(){return()=>{this.tickCount>15&&(this.drawPlayer(),this.tickCount=0),this.tickCount+=1,requestAnimationFrame(this.animatePlayer())}}setPlayerName(e){$("#userName").text(e)}drawMonster(){this.viewModel.arrayOfMonsterParts.forEach(e=>{e.image=new Image,e.image.src=e.src,e.image.addEventListener("load",()=>{this.drawMonsterPart(e)})})}drawMonsterPart(e){let t=1;for(;e.numberOfParts>=t;)this.ctx.drawImage(e.image,e.drawCoordinateX,e.drawCoordinateY),t+=1,"horizontal"===e.offset?e.drawCoordinateX+=40:e.drawCoordinateY+=40}setMonsterName(){$("#monsterName").text(this.viewModel.monsterName)}resetHealth(...e){e.forEach(e=>document.getElementById(e).innerHTML=100)}resetPlayerScore(){$("#playerScore").text(0)}decreaseHealth(e,t){document.getElementById(e).innerHTML-=t}deleteMonster(){this.ctx.clearRect(this.viewModel.canvasWidth-305,this.viewModel.canvasHeight-200,300,300)}drawSpell(){this.ctx.clearRect(this.viewModel.spellCoordinateX,this.viewModel.spellCoordinateY,this.viewModel.spellWidth,this.viewModel.spellHeight),this.viewModel.spellCoordinateX+=this.viewModel.spellAnimationDirection,this.ctx.drawImage(this.viewModel.spellImage,this.viewModel.spellCoordinateX,this.viewModel.spellCoordinateY)}animateSpell(){return()=>{this.drawSpell(),this.requestAnimationSpellId=requestAnimationFrame(this.animateSpell()),this.checkSpellBorder()}}checkSpellBorder(){this.viewModel.spellAnimationDirection>0?this.viewModel.spellCoordinateX>this.viewModel.spellBorderCoordinateX&&this.cancelSpellAnimation():this.viewModel.spellCoordinateX<this.viewModel.spellBorderCoordinateX&&this.cancelSpellAnimation()}cancelSpellAnimation(){cancelAnimationFrame(this.requestAnimationSpellId),this.ctx.clearRect(this.viewModel.spellCoordinateX,this.viewModel.spellCoordinateY,this.viewModel.spellWidth,this.viewModel.spellHeight)}emitBlastSound(){i("Blast",!1,!1)}}const d=async e=>new Promise(t=>{setTimeout(t,e)}),h=38,l=37,c=40,m=39,u=82,p=36,w=35,y=72,g=69,f=83,v=1500,b=300,k=300,S=200,A=500,C=1500,M=500,O="monster",N="player";class I{constructor(){this.model=new r,this.view=new o(this.model),this.whoIsDead="nobody"}createCharacters(){this.view.drawCanvas(),this.view.animatePlayer()(),this.view.resetHealth("playerHealth","monsterHealth"),this.model.defineMonsterName(),this.view.setMonsterName(),this.model.defineMonster(),this.view.drawMonster()}setPlayerName(e){this.view.setPlayerName(e)}async hit(e,t){e?(await this.launchSpellAnimation(O),this.decreaseHealth("monsterHealth",t)):(await this.launchSpellAnimation(N),this.decreaseHealth("playerHealth",t))}async launchSpellAnimation(e){this.model.defineSpell(e),await d(b),this.view.animateSpell()(),await d(k),this.view.emitBlastSound()}decreaseHealth(e,t){document.getElementById(e).innerHTML>t?this.view.decreaseHealth(e,t):(document.getElementById(e).innerHTML=0,"playerHealth"==e?this.whoIsDead="player":(document.getElementById("playerScore").innerHTML=+document.getElementById("playerScore").innerHTML+1,this.whoIsDead="monster"))}async changeMonster(){this.whoIsDead="nobody",await d(S),this.view.deleteMonster(),await d(A),this.model.defineMonsterName(),this.view.setMonsterName(),this.view.resetHealth("monsterHealth"),this.model.defineMonster(),this.view.drawMonster()}resetHealth(...e){this.view.resetHealth(...e)}resetPlayerScore(){this.view.resetPlayerScore()}}class W{insertTask(e){$("#taskDescription").html(e)}hideTask(){$("#spellingButton").hide(),document.getElementById("sort").innerHTML="",document.getElementById("correctAnswer").innerHTML="",$("#answerInput").val(""),$("#correctAnswer").removeClass("task__correct-answer--red")}insertCorrectAnswer(e,t){let s=$("#correctAnswer");e?(s.html("Yes! Welldone!"),s.addClass("task__correct-answer--green")):(s.html(`No, correct answer is: ${t}`),s.addClass("task__correct-answer--red"))}}function H(e){return fetch(e).then(function(e){return e.json()})}function _(){this.arrayOfOperators=["*","/","+","-"],this.randomOperator=this.arrayOfOperators[n(0,this.arrayOfOperators.length-1)],"-"===this.randomOperator||"+"===this.randomOperator?(this.randomlyGeneratedNumber=n(-50,50),this.randomlyGeneratedNumber1=n(-20,20)):(this.randomlyGeneratedNumber=n(-30,30),this.randomlyGeneratedNumber1=n(1,10)),this.methods={"-":function(e,t){return e-t},"+":function(e,t){return e+t},"/":function(e,t){return e/t},"*":function(e,t){return e*t}},this.answer=this.methods[this.randomOperator](this.randomlyGeneratedNumber,this.randomlyGeneratedNumber1),(0^this.answer)!==this.answer&&(this.answer=this.answer.toFixed(1)),this.description=`<p>Enter an answer without whitespaces.</p>\n            <p> If the answer is not an integer, write it through the dot with 1 character after this</p>\n            <p> ${this.randomlyGeneratedNumber}  ${this.randomOperator} ${this.randomlyGeneratedNumber1} =  </p>`,this.pattern="-?[0-9]{0,4}.?[0-9]?",this.answer+=""}function E(){this.randomNumber=n(0,this.dictionaryArray.length-1),this.answer=this.dictionaryArray[this.randomNumber][2],this.question=this.dictionaryArray[this.randomNumber][0],this.description=`Translate from English to Russian: ${this.question}`,this.pattern="[А-Яа-я]{2,}?"}function T(){this.randomNumber=n(0,this.dictionaryArray.length-1),this.answer=this.dictionaryArray[this.randomNumber][0],this.description="<p>Make up a word or write it down</p>",this.pattern="[A-Za-z]{0,}";let e=this.answer.split("");e.sort(function(){return.5-Math.random()}),e.forEach(e=>{let t=document.createElement("li");t.setAttribute("id",e),t.innerHTML=e,$("#sort").append(t)}),jQuery.fn.extend({ksortable:function(e){this.sortable(e),$("li",this).attr("tabindex",0).bind("keydown",function(e){var t;(e.which!=l&&e.which!=h||($(this).insertBefore($(this).prev()),$(this).trigger("sortupdate")),e.which!=m&&e.which!=c||($(this).insertAfter($(this).next()),$(this).trigger("sortupdate")),e.which!=p&&e.which!=y||($(this).parent().prepend($(this)),$(this).trigger("sortupdate")),e.which!=w&&e.which!=g||($(this).parent().append($(this)),$(this).trigger("sortupdate")),e.which==u)&&((t=$(this).parent()).children().each(function(){t.prepend($(this))}),$(this).trigger("sortupdate"));e.which==f&&(t=$(this).parent()).children().each(function(){Math.random()<.5?t.prepend($(this)):t.append($(this))});$(this).focus()})}}),$("#sort").ksortable();let t=this;t.isAnswerRight=!1,$("#sort").bind("sortupdate",function(e,s){let n=$("#sort").sortable("toArray").join("");console.log(n),console.log(t.answer),n==t.answer&&(t.isAnswerRight=!0,$("#SubmitTheAnswer").submit())})}function x(){this.randomNumber=n(0,this.dictionaryArray.length-1),this.answer=this.dictionaryArray[this.randomNumber][0],this.question=this.dictionaryArray[this.randomNumber][0],this.description="<p>Write the word in English</p>",this.pattern="[A-Za-z]{2,}",$("#spellingButton").show(),$("#spellingButton").click(()=>{document.getElementById("homeAudio").pause();let e=window.speechSynthesis,t=new SpeechSynthesisUtterance(this.answer);t.lang="en-US",e.speak(t),setTimeout(a,2e3)})}function G(){this.answer=n(2,8)+"",this.randomlyGeneratedNumber=n(1,100)+"",this.taskDescriptionString=` + ${this.randomlyGeneratedNumber}`.repeat(this.answer-1),this.description=`<p>What is the prime power of the number</p>\n    <p> ${this.randomlyGeneratedNumber}  ${this.taskDescriptionString} </p>`,this.pattern="[0-9]{0,}",this.answer+=""}function D(){this.arrayOfOperators=["*","+","-"],this.randomOperator=this.arrayOfOperators[n(0,this.arrayOfOperators.length-1)],"-"===this.randomOperator||"+"===this.randomOperator?(this.randomlyGeneratedNumber=n(-50,50),this.randomlyGeneratedNumber1=n(-20,20)):(this.randomlyGeneratedNumber=n(-30,30),this.randomlyGeneratedNumber1=n(1,10)),this.methods={"-":function(e,t){return e-t},"+":function(e,t){return e+t},"*":function(e,t){return e*t}},this.equationResult=this.methods[this.randomOperator](this.randomlyGeneratedNumber,this.randomlyGeneratedNumber1),this.answer=this.randomlyGeneratedNumber,this.description=`<p>Solve the equation:</p>\n            <p> x  ${this.randomOperator} ${this.randomlyGeneratedNumber1} = ${this.equationResult}  </p>`,this.pattern="-?[0-9]{0,4}.?[0-9]?",this.answer+=""}function P(){this.randomlyGeneratedNumber=n(0,30),this.answer=this.randomlyGeneratedNumber,this.description=`<p>What is a square root of the number:</p>\n            <p> ${Math.pow(this.randomlyGeneratedNumber,2)}  </p>`,this.pattern="[0-9]{1,4}?",this.answer+=""}function B(){this.randomlyGeneratedNumber=n(-1e3,1e3),this.randomlyGeneratedNumber1=n(-1e3,1e3),this.randomlyGeneratedNumber>this.randomlyGeneratedNumber1?this.answer=">":this.randomlyGeneratedNumber<this.randomlyGeneratedNumber1?this.answer="<":this.answer="=",this.description=`<p>Compare 2 numbers:</p>\n            <p> ${this.randomlyGeneratedNumber} ? ${this.randomlyGeneratedNumber1} </p>`,this.pattern="[><=]{1}?",this.answer+=""}function L(){this.arrayOfOperators=["*","+","-"],this.methods={"-":function(e,t){return e-t},"+":function(e,t){return e+t},"*":function(e,t){return e*t}},this.randomOperator=this.arrayOfOperators[n(0,this.arrayOfOperators.length-1)],this.numberOfSteps=3,"-"===this.randomOperator||"+"===this.randomOperator?(this.randomlyGeneratedNumber=n(0,100),this.randomStep=n(1,50),this.answer=this.methods[this.randomOperator](this.randomlyGeneratedNumber,this.randomStep*this.numberOfSteps)):(this.randomlyGeneratedNumber=n(0,10),this.randomStep=n(1,10),this.answer=this.methods[this.randomOperator](this.randomlyGeneratedNumber,Math.pow(this.randomStep,this.numberOfSteps))),this.secondNumberInSequence=this.methods[this.randomOperator](this.randomlyGeneratedNumber,this.randomStep),this.thirdNumberInSequence=this.methods[this.randomOperator](this.secondNumberInSequence,this.randomStep),this.description=`<p>Continue the sequence:</p>\n            <p> ${this.randomlyGeneratedNumber}  ${this.secondNumberInSequence}  ${this.thirdNumberInSequence}  ? </p>`,this.pattern="-?[0-9]{0,4}",this.answer+=""}function q(){this.randomNumber=n(0,this.dictionaryArray.length-1),this.answer=this.dictionaryArray[this.randomNumber][0],this.question=this.dictionaryArray[this.randomNumber][1],this.description=`Write a word, which transcription is: ${this.question}`,this.pattern="[A-Za-z]{2,}?"}function j(){this.randomNumber=n(0,this.dictionaryArray.length-1),this.answer=this.dictionaryArray[this.randomNumber][0],this.russianTranslations=this.dictionaryArray[this.randomNumber][2],this.russianTranslationArray=this.russianTranslations.replace(/[()?]/g,"").split(","),this.question=this.russianTranslationArray[0],this.description=`Translate the word from Russian to English: ${this.question}`,this.pattern="[A-Za-z]{2,}?"}function F(){const e=n(0,this.countriesArray.length-1),t=this.countriesArray[e].country,s=this.countriesArray[e].capital;this.answer=s+"",this.question=t+"",this.description=`What is the capital of the country: ${this.question}`,this.pattern="[A-Za-z -]{0,40}"}function R(){const e=n(0,this.countriesArray.length-1),t=this.countriesArray[e].country,s=this.countriesArray[e].continent;this.answer=s+"",this.question=t+"",console.log("answ = "+this.answer),this.description=`What is the continent of the country: ${this.question}`,this.pattern="[A-Za-z]{0,15} ?[A-Za-z]{0,15}"}function X(){const e=n(0,this.synonymsArray.length-1),t=this.synonymsArray[e].word,s=this.synonymsArray[e].synonym;this.answer=s+"",this.question=t+"",console.log("answ = "+this.answer),this.description=`What is the synonym of the word: ${this.question}`,this.pattern="[A-Za-z]{0,15}"}function z(){const e=n(0,this.antonymsArray.length-1),t=this.antonymsArray[e].word,s=this.antonymsArray[e].antonym;this.answer=s+"",this.question=t+"",console.log("answ = "+this.answer),this.description=`What is the antonym of the word: ${this.question}`,this.pattern="[A-Za-z]{0,15}"}class U{constructor(){this.dictionaryArray}defineTasks(){class e{constructor(e,t){this.points=e,this.func=t}}let t=new e(20,_),s=new e(30,E),n=new e(15,T),r=new e(15,x),i=new e(10,G),a=new e(15,D),o=new e(25,P),d=new e(10,B),h=new e(20,L),l=new e(10,q),c=new e(30,j),m=new e(35,F),u=new e(25,R),p=new e(25,X),w=new e(25,z);this.arrayOfTasks=[t,s,n,r,i,a,o,d,h,l,c,m,u,p,w],this.arrayOfEasyTasks=[r,i,o,d,l,h],this.arrayOfMediumTasks=[t,s,u,n,a,h],this.arrayOfHardTasks=[m,p,w]}setPattern(e){$("#answerInput").attr("pattern",e)}downloadDictionary(e){H(e).then(e=>{this.dictionaryArray=e})}downloadCountriesData(e){H(e).then(e=>{this.countriesArray=e})}downloadSynonyms(e){H(e).then(e=>{this.synonymsArray=e})}downloadAntonyms(e){H(e).then(e=>{this.antonymsArray=e})}init(){this.downloadDictionary("database/dict.json"),this.downloadCountriesData("database/countries.json"),this.downloadSynonyms("database/synonyms.json"),this.downloadAntonyms("database/antonyms.json"),this.defineTasks()}}class J{constructor(){this.model=new U,this.view=new W,this.model.init()}launchTask(e){"easy"===e?this.arrayOfTasks=this.model.arrayOfEasyTasks:"medium"===e?this.arrayOfTasks=this.model.arrayOfMediumTasks:"hard"===e&&(this.arrayOfTasks=this.model.arrayOfHardTasks);let t=n(0,this.arrayOfTasks.length-1);this.task=this.arrayOfTasks[t],this.task.dictionaryArray=this.model.dictionaryArray,this.task.countriesArray=this.model.countriesArray,this.task.synonymsArray=this.model.synonymsArray,this.task.antonymsArray=this.model.antonymsArray,this.task.func(),this.view.insertTask(this.task.description),this.model.setPattern(this.task.pattern)}checkAnswer(){let e,t=$('form [name="user-answer"]').val(),s=this.task.answer.split(", ");(s=s.map(e=>new RegExp(e,"i"))).forEach(s=>{s.test(t)&&(e=!0)}),e||this.task.isAnswerRight?this.isRight=!0:this.isRight=!1}showCorrectAnswer(){let e=this.isRight,t=this.task.answer;this.view.insertCorrectAnswer(e,t),setTimeout(this.view.hideTask,v)}}s("./game/components/screens/loader/loading-screen.scss");var Y=s("./game/components/screens/loader/loading-screen.html"),Z=s.n(Y);const K={};K.html=Z.a,K.launchFunc=function(){$(window).on("load",function(){const e=$(".loaderArea");e.find(".loader").fadeOut(),e.delay(350).fadeOut("slow")})};s("./game/components/screens/user-data-form/img/girlPlayer.png"),s("./game/components/screens/user-data-form/img/boyPlayer.png"),s("./game/components/screens/user-data-form/user-data-form.scss");var V=s("./game/components/screens/user-data-form/user-data-form.html"),Q=s.n(V);const ee={};ee.html=Q.a;s("./game/components/screens/modal-window/modal.scss");var te=s("./game/components/screens/modal-window/modal.html"),se=s.n(te);const ne={};ne.html=se.a,ne.insertFunc=function(){let e=0;return function(t,s,n,r){s.innerHTML+=t,e>0&&document.getElementsByClassName("bg-opacity")[1].remove();let i=document.getElementsByClassName("modal-window")[e];i.setAttribute("id",n),i.lastElementChild.innerHTML=r,e+=1}},ne.showFunc=function(e){e="#"+e,$(e).addClass("modal-window--show"),$("bg-opacity").addClass("bg - opacity--show")},ne.hideFunc=function(e){e="#"+e,$(e).removeClass("modal-window--show"),$("bg-opacity").removeClass("bg - opacity--show")};s("./game/components/screens/menu/menu.scss");var re=s("./game/components/screens/menu/menu.html"),ie=s.n(re);const ae={};ae.html=ie.a;s("./game/components/Tasks/task-window.scss");var oe=s("./game/components/Tasks/task-window.html"),de=s.n(oe),he=(s("./game/components/Tasks/task-choosing-window.scss"),s("./game/components/Tasks/task-choosing-window.html")),le=s.n(he);const ce={};ce.html=de.a;const me={};me.html=le.a;s("./game/components/Game/game-window.scss");var ue=s("./game/components/Game/game-window.html"),pe=s.n(ue);const we={};we.html=pe.a;s("./game/components/screens/results-window/results-window.scss");var ye=s("./game/components/screens/results-window/results-window.html"),ge=s.n(ye);const fe={};fe.html=ge.a;$(document).ready(function(){let e=new class{constructor(e,t){this.model=e,this.view=t,this.tasks=new J}prestart(){this.view.init(),this.view.launchInitialWindow()}start(){this.model.initializeUser(),this.view.showGameWindow(),this.view.launchBattleSound(),this.characters=new I,this.characters.createCharacters(),this.characters.setPlayerName(this.model.userFullName)}taskButtonClick(){this.view.showTaskChoosingWindow()}taskListClick(e){let t=$(e.target).attr("aria-activedescendant");if("close"==t)this.view.hideTaskChoosingWindow();else{this.view.showTaskWindow();let e=t;this.tasks.launchTask(e)}}escKeyEvent(){this.view.hideOpenedModalWindow()}spaceKeyEvent(){this.view.getOpenedWindowId()||this.taskButtonClick()}altKeyEvent(){this.view.getOpenedWindowId()||this.menuClick()}async submitAnswer(e){e.preventDefault(),this.tasks.checkAnswer(),this.tasks.showCorrectAnswer(),await d(v),this.view.hideTaskWindow(),await this.characters.hit(this.tasks.isRight,this.tasks.task.points),this.isAnybodyDead()}isAnybodyDead(){this.characters.whoIsDead===N?this.finish(O):this.characters.whoIsDead===O&&this.newRound()}async newRound(){await d(C),this.view.launchWinSound(),await this.characters.changeMonster(),this.view.launchBattleSound()}async finish(e){e===O?(await d(C),this.view.launchMonsterWinSound()):(await d(C),this.view.launchWinSound()),await d(M),this.showScore()}showScore(){this.model.setUserScoreInLocaleStorage(),this.model.sortUsersScore(),this.view.showScoreInTable(this.model.usersArray),this.model.refreshLocaleStorage()}restart(){this.view.launchBattleSound(),this.characters.changeMonster(),this.characters.resetHealth("monsterHealth","playerHealth"),this.characters.resetPlayerScore(),this.characters.whoIsDead="nobody"}menuClick(){this.view.showMenuWindow()}menuContentClick(e,t){switch($(e.target).attr("aria-activedescendant")){case"startNewGame":this.view.hideMenuWindow(),this.restart();break;case"finishGame":this.view.hideMenuWindow(),this.finish(N);break;case"closeMenu":this.view.hideMenuWindow()}}resultsContentClick(e){let t=$(e.target).attr("aria-activedescendant");"startNewGame"===t?(this.view.hideResultsWindow(),this.restart()):"exit"===t&&this.view.closeGameWindow()}}(new class{constructor(){this.user,this.localStorage=localStorage.getItem("users"),this.usersArray}initializeUser(){this.user={name:$("#first-name").val(),surname:$("#last-name").val(),email:$("#email").val(),score:0},this.userFullName=`${this.user.name} ${this.user.surname}`,this.userJSONData=JSON.stringify(this.user),this.addToLocalStorage(this.user)}addToLocalStorage(){this.localStorage?(this.usersArray=JSON.parse(this.localStorage),this.usersArray.includes(this.userJSONData)||(this.usersArray.push(this.userJSONData),localStorage.setItem("users",JSON.stringify(this.usersArray)))):this.setLocalStorage()}setLocalStorage(){this.usersArray=[this.userJSONData],localStorage.setItem("users",JSON.stringify(this.usersArray))}setUserScoreInLocaleStorage(){this.localStorage=localStorage.getItem("users"),this.usersArray=JSON.parse(this.localStorage);let e=this.usersArray.indexOf(this.userJSONData);this.usersArray=this.usersArray.map(function(e){return JSON.parse(e)}),this.usersArray[e].score=parseInt($("#playerScore").html())}sortUsersScore(){this.usersArray.sort(this.compareScore)}refreshLocaleStorage(){this.usersArray=this.usersArray.map(function(e){return JSON.stringify(e)}),localStorage.setItem("users",JSON.stringify(this.usersArray))}compareScore(e,t){return t.score-e.score}},new class{init(){const e=document.getElementById("content");[K,we].forEach(t=>{e.innerHTML+=t.html});let t=ne.insertFunc();t(ne.html,e,"formModalWindow",ee.html),t(ne.html,e,"menuWindow",ae.html),t(ne.html,e,"taskChoosingWindow",me.html),t(ne.html,e,"taskWindow",ce.html),t(ne.html,e,"resultsWindow",fe.html)}launchInitialWindow(){K.launchFunc(),ne.showFunc("formModalWindow"),i("Caketown",!1,!0,!0)}showGameWindow(){$("#gameWindow").toggleClass("game-window--battleBg"),function(...e){e.forEach(e=>$(e).fadeIn(800))}("#battleWindow"),ne.hideFunc("formModalWindow")}launchBattleSound(){i("BattleTheme",!0,!0)}showTaskChoosingWindow(){ne.showFunc("taskChoosingWindow"),$("#easy").focus()}hideTaskChoosingWindow(){ne.hideFunc("taskChoosingWindow")}showTaskWindow(){ne.hideFunc("taskChoosingWindow"),ne.showFunc("taskWindow")}hideTaskWindow(){ne.hideFunc("taskWindow")}launchWinSound(){i("Jingle",!0,!1)}launchMonsterWinSound(){i("monsterLaughter",!0,!1)}showScoreInTable(e){$("#scoreList").text("");let t=1;e.forEach(e=>{if(t<=10){let s=document.createElement("li");s.innerHTML=t+". "+e.name+" "+e.surname+": "+e.score+" monster(s)",$("#scoreList").append(s),t+=1}}),ne.showFunc("resultsWindow"),$("#startNewGame").focus()}showMenuWindow(){ne.showFunc("menuWindow"),$("#startNewGame").focus()}hideMenuWindow(){ne.hideFunc("menuWindow")}hideOpenedModalWindow(){let e=this.getOpenedWindowId();"taskWindow"!==e&&"formModalWindow"!==e&&"resultsWindow"!==e&&ne.hideFunc(e)}getOpenedWindowId(){return $(".modal-window--show").attr("id")}hideResultsWindow(){ne.hideFunc("resultsWindow")}closeGameWindow(){let e=window.open("","_self");e.document.write(""),e.close()}});({init:function(){this.gamePrestart(),this.initializeEvents()},gamePrestart:function(){e.prestart()},initializeEvents:function(){$("#userDataForm").submit(function(t){t.preventDefault(),e.start()}),$("#tasksChoosingButton").click(e.taskButtonClick.bind(e)),$("#userAnswer").submit(e.submitAnswer.bind(e)),$("#menu").click(e.menuClick.bind(e)),$("body").keydown(function(t){27==(t.keyCode||t.which)&&e.escKeyEvent.apply(e)}),$("body").keydown(function(t){32==(t.keyCode||t.which)&&e.spaceKeyEvent.apply(e)}),$("body").keydown(function(t){18==(t.keyCode||t.which)&&(t.preventDefault(),e.altKeyEvent.apply(e))}),$("#mainMenu").menu({select:e.menuContentClick.bind(e)}),$("#tasksList").menu({select:e.taskListClick.bind(e)}),$("#actionChoosingList").menu({select:e.resultsContentClick.bind(e)})}}).init()}),e.hot.accept()},"./game/components/Characters/img/BoySpriteIdle.png":function(e,t,s){e.exports=s.p+"game/img/BoySpriteIdle.png"},"./game/components/Characters/img/GirlSpriteIdle.png":function(e,t,s){e.exports=s.p+"game/img/GirlSpriteIdle.png"},"./game/components/Characters/img/monster parts/Body.png":function(e,t,s){e.exports=s.p+"game/img/monster parts\\Body.png"},"./game/components/Characters/img/monster parts/Foot.png":function(e,t,s){e.exports=s.p+"game/img/monster parts\\Foot.png"},"./game/components/Characters/img/monster parts/LeftHand1.png":function(e,t,s){e.exports=s.p+"game/img/monster parts\\LeftHand1.png"},"./game/components/Characters/img/monster parts/RightHand.png":function(e,t,s){e.exports=s.p+"game/img/monster parts\\RightHand.png"},"./game/components/Characters/img/spells/acidcircus.png":function(e,t,s){e.exports=s.p+"game/img/spells\\acidcircus.png"},"./game/components/Characters/img/spells/ball-lightning.png":function(e,t,s){e.exports=s.p+"game/img/spells\\ball-lightning.png"},"./game/components/Characters/img/spells/blades.png":function(e,t,s){e.exports=s.p+"game/img/spells\\blades.png"},"./game/components/Characters/img/spells/electron.png":function(e,t,s){e.exports=s.p+"game/img/spells\\electron.png"},"./game/components/Game/game-window.html":function(e,t){e.exports='<div class="game-window game-window--prestartBg" id=gameWindow> <div class=battle-window id=battleWindow> <div class=battle-window-grid> <div class=game-UI> <div class=game-UI__menu> <button class=choosing-button id=menu>Menu</button> </div> <div class=game-UI__characters-data> <div class="character player-data"> <p id=userName class=character__name>Player Name</p> <p class=character__health>Health: <span id=playerHealth>100</span> </p> <p>Score: <span id=playerScore>0</span> </p> </div> <div class="character monster-data"> <p id=monsterName class=character__name></p> <p class=character__health>Health: <span id=monsterHealth>100</span> </p> </div> </div> <div class=game-UI__task-menu> <button class=choosing-button id=tasksChoosingButton>Choose the task</button> </div> </div> <canvas id=canvas>Your browser doesn\'t support canvas</canvas> </div> </div> </div>'},"./game/components/Game/game-window.scss":function(e,t){},"./game/components/Tasks/task-choosing-window.html":function(e,t){e.exports="<div class=task-choosing-menu> <h2>Choose the task</h2> <ul class=task-choosing-menu__list id=tasksList> <li> <button id=easy>Easy</button> </li> <li> <button id=medium>Medium</button> </li> <li> <button id=hard>Hard</button> </li> <li> <button id=close class=close>Close</button> </li> </ul> </div>"},"./game/components/Tasks/task-choosing-window.scss":function(e,t){},"./game/components/Tasks/task-window.html":function(e,t){e.exports='<div class=task id=task> <p class=task__description id=taskDescription>tasktasktask</p> <ul id=sort class=task__sortable></ul> <button class=task__spelling-button id=spellingButton>Push to launch audio</button> <form action=get id=userAnswer name=user-answer> <input type=text name=user-answer id=answerInput autocomplete=off autofocus> <input type=submit value="Submit the answer" id=SubmitTheAnswer> </form> <p class=task__correct-answer id=correctAnswer></p> </div>'},"./game/components/Tasks/task-window.scss":function(e,t){},"./game/components/screens/loader/loading-screen.html":function(e,t){e.exports="<div class=loaderArea> <div class=loader></div> </div>"},"./game/components/screens/loader/loading-screen.scss":function(e,t){},"./game/components/screens/menu/menu.html":function(e,t){e.exports="<div class=menu> <h2 class=menu__header>Menu</h2> <ul id=mainMenu class=menu__list> <li> <button id=startNewGame>Start New Game</button> </li> <li> <button id=finishGame>Finish Game</button> </li> <li> <button id=closeMenu>Close</button> </li> </ul> </div>"},"./game/components/screens/menu/menu.scss":function(e,t){},"./game/components/screens/modal-window/modal.html":function(e,t){e.exports="<div class=bg-opacity> </div> <div class=modal-window> <div class=modal-window__background> </div> </div>"},"./game/components/screens/modal-window/modal.scss":function(e,t){},"./game/components/screens/results-window/results-window.html":function(e,t){e.exports="<div class=results-window id=resultsContent> <h2>GAME OVER</h2> <h3>Top-10 results <ol class=results-window__score-list id=scoreList></ol> <ul class=results-window__action-choosing-list id=actionChoosingList> <li> <button id=startNewGame>Start New Game</button> </li> <li> <button id=exit>Exit</button> </li> </ul> </h3></div>"},"./game/components/screens/results-window/results-window.scss":function(e,t){},"./game/components/screens/user-data-form/img/boyPlayer.png":function(e,t,s){e.exports=s.p+"game/img/boyPlayer.png"},"./game/components/screens/user-data-form/img/girlPlayer.png":function(e,t,s){e.exports=s.p+"game/img/girlPlayer.png"},"./game/components/screens/user-data-form/user-data-form.html":function(e,t){e.exports=' <form action=get name=userChoice id=userDataForm class=form> <h2 class=from__header>Welcome, Young Genius!</h2> <div class=form__inputs> <input type=text id=first-name placeholder="Enter your Name" pattern=[A-Za-zА-Яа-яЁё]{1,15} required> <input type=text id=last-name placeholder="Enter your Last name" pattern=[A-Za-zА-Яа-яЁё]{1,15} required> <input type=email id=email placeholder="Enter your email" required> </div> <div class=form__radios> <input type=radio name=userChoice id=Boy value=Boy checked=checked> <label for=Boy> <img src=/game/img/boyPlayer.png alt="game character 1" class=player-image> </label> <input type=radio name=userChoice id=Girl value=Girl> <label for=Girl> <img src=/game/img/girlPlayer.png alt="game character 2" class=player-image> </label> </div> <input type=submit value="Let\'s go" class=form__submit> </form> '},"./game/components/screens/user-data-form/user-data-form.scss":function(e,t){},"./game/style.scss":function(e,t){},0:function(e,t,s){s("./game/app.js"),e.exports=s("./game/style.scss")}});